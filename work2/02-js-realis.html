<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8" />
	<meta name="author" content="Nikolay Sergeychuk" />
	<title>Homework | Task 2</title>

	<!-- JS  -->
	<script type="text/javascript">
		function check_string()
		{
			var string = document.getElementById('string').value;
			var stack = [];
			var is_valid = true;

			for (i = 0; i < string.length; ++i) {
				switch(string[i])
				{
					case '(':
					case '[':
					case '{':
						stack.push(string[i]);
						break;
					case ')':
					case ']':
					case '}':

						if(stack.length == 0) 
						{
							is_valid = false; // Закрывающих скобок больше
						}
						else 
						{
							if( stack[stack.length - 1] == reverse(string[i]) )
							{
								stack.pop();
							}
							else
							{
								is_valid = false; // Открывающая не соответствует закрывающей или нарушена вложенность типа ([)]
							}
						}

						break;
				}	//switch
			} //for
			if(is_valid && !stack.length)
			{
				alert('Корректно');
			}
			else
			{
				alert('Некорректно');
			}
		} //check_string

		function reverse(ch)
		{
			if(ch == '}') return '{';
			if(ch == ')') return '(';
			if(ch == ']') return '[';
			return '';
		}//reverse

	</script>
	<!-- JS  -->

</head>
<body>

	<h1>Задание 2</h1>
	<h2>Николай Сергейчук</h2>
	<input type="text" name="string" id="string" value="()([{}])"/>
	<input type="submit" name="Check" onclick="check_string();">

</body>
</html>
Как получить цепочки вида (()) и не получить цепочки вида ()()
С -> CC | (C) | e - исходная, из нее необходимо убрать удвоение
Получаем С->(C) | e 
Проверяем С -> (C) -> ((C)) -> (())

Дополнить приведённую в лк грамматику правилами, позволяющими получать сбалансированные цепочки со скобками разных видов, включая квадратные и фигурные
Добавляем к исходной возможность окружения С различными скобками
Получаем C -> CC | (C) | {C} | [C] | e
Проверяем С -> CC -> [C]C -> [CC]C -> [{C}C]C -> [{C}(C)]C -> [{}(C)]C -> [{}(C)]{C} -> [{}(CC)]{C} -> [{}([C]C)]{C} -> [{}([]C)]{C} -> [{}([])]{C} -> [{}([])]{}